{"version":3,"sources":["webpack:///./src/views/product/product-list.vue?48a4","webpack:///./node_modules/.pnpm/registry.npmmirror.com+@element-plus+icons-vue@1.1.4_vue@3.2.41/node_modules/@element-plus/icons-vue/dist/es/search.mjs","webpack:///./src/views/product/product-list.vue","webpack:///./src/types/product.ts","webpack:///./src/api/product.ts","webpack:///./src/views/product/product-list.vue?aece"],"names":["_sfc_main","name","_hoisted_1","viewBox","xmlns","_hoisted_2","fill","d","_hoisted_3","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","search","_createVNode","_component_el_form","class","inline","_component_el_form_item","label","_component_el_input","title","clearable","placeholder","body","_component_el_button","type","onClick","_component_el_icon","size","_component_Search","_component_el_table","data","border","height","highlight-current-row","empty-text","_component_el_table_column","prop","align","width","show-overflow-tooltip","_component_el_pagination","currentPage","page","page-size","total","background","layout","onCurrentChange","InitPage","constructor","count","productList","getProductList","request","url","method","defineComponent","components","Search","setup","reactive","productListAll","onMounted","async","list","length","setTablePage","slice","handleSearch","productListFilter","map","item","filter","includes","handleChangeCurrentPage","value","toRefs","__exports__","render"],"mappings":"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","file":"js/chunk-26b3a897.6a221f35.js","sourcesContent":["export * from \"-!../../../node_modules/.pnpm/registry.npmmirror.com+mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.2.41_vue@3.2.41_webpack@4.46.0/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.pnpm/registry.npmmirror.com+sass-loader@10.3.1_node-sass@6.0.1_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.2.41_vue@3.2.41_webpack@4.46.0/node_modules/vue-loader/dist/index.js??ref--1-1!./product-list.vue?vue&type=style&index=0&id=b72c2e72&lang=scss&scoped=true\"","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Search\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar search = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { search as default };\n","<template>\r\n    <el-form class=\"search-warpper\" inline>\r\n        <el-form-item label=\"商品标题\" class=\"search-item\">\r\n            <el-input v-model=\"search.title\" clearable class=\"search-input\" placeholder=\"请输入关键字\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"商品详情\" class=\"search-item\">\r\n            <el-input v-model=\"search.body\" clearable class=\"search-input\" placeholder=\"请输入关键字\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button type=\"primary\" class=\"search-btn\" @click=\"handleSearch\">\r\n                <el-icon :size=\"14\"><Search/></el-icon>查询\r\n            </el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n    <el-table :data=\"productList\" border height=\"70vh\" size=\"small\" highlight-current-row empty-text=\"暂无数据\">\r\n        <el-table-column prop=\"userId\" label=\"用户ID\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"id\" label=\"商品ID\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"title\" label=\"商品标题\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"body\" label=\"商品详情\" align=\"center\" show-overflow-tooltip></el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n        v-model:currentPage=\"page.page\"\r\n        :page-size=\"page.size\"\r\n        :total=\"page.total\"\r\n        size\r\n        background\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        class=\"table-footer\"\r\n        @current-change=\"handleChangeCurrentPage\"></el-pagination>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, onMounted, reactive, toRefs } from 'vue'\r\nimport { Search } from '@element-plus/icons-vue'\r\nimport { InitPage } from '../../types/product'\r\nimport { getProductList } from '@/api/product'\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        Search\r\n    },\r\n    setup() {\r\n        const data = reactive(new InitPage)\r\n        let productListAll = []\r\n        onMounted(async () => {\r\n            const { data: { list } } = await getProductList()\r\n            productListAll = list\r\n            data.page.total = list.length\r\n            setTablePage(list)\r\n        })\r\n        const setTablePage = () => {\r\n            const { page, size } = data.page\r\n            const count = page < 1 ? 0 : (page - 1) * size\r\n            data.productList = productListAll.slice(count, count + size)\r\n        }\r\n        const handleSearch = () => {\r\n            const { title, body } = data.search\r\n            let productListFilter = productListAll.map(item => item)\r\n            if (title) {\r\n                productListFilter = productListFilter.filter(item => item.title.includes(title))\r\n            }\r\n            if (body) {\r\n                productListFilter = productListFilter.filter(item => item.body.includes(body))\r\n            }\r\n            data.productList = productListFilter\r\n        }\r\n        const handleChangeCurrentPage = (value) => {\r\n            data.page.page = value\r\n            setTablePage()\r\n        }\r\n        return {\r\n            ...toRefs(data),\r\n            handleSearch,\r\n            handleChangeCurrentPage\r\n        }\r\n    },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-footer {\r\n    position: absolute;\r\n    right: 10px;\r\n    bottom: 10px;\r\n}\r\n</style>\r\n","export interface IProductList {\r\n    userId: number\r\n    id: number\r\n    title: string\r\n    body: string\r\n}\r\nexport interface ISearchParams {\r\n    title: string\r\n    body: string\r\n    page: number\r\n    count: number\r\n}\r\nexport interface IPaginaction {\r\n    page: number\r\n    size: number\r\n    total: number\r\n}\r\nexport class InitPage {\r\n    search: ISearchParams = {\r\n        title: '',\r\n        body: '',\r\n        page: 1,\r\n        count: 0\r\n    }\r\n    productList: IProductList[] = []\r\n    page: IPaginaction = {\r\n        page: 1,\r\n        size: 15,\r\n        total: 0\r\n    }\r\n}\r\n","import request from \"@/utils/request\";\r\n\r\n/**\r\n * 获取商品列表\r\n * @returns \r\n */\r\nexport function getProductList() {\r\n    return request({\r\n        url: '/product/list',\r\n        method: 'get'\r\n    })\r\n}","import { render } from \"./product-list.vue?vue&type=template&id=b72c2e72&scoped=true\"\nimport script from \"./product-list.vue?vue&type=script&lang=js\"\nexport * from \"./product-list.vue?vue&type=script&lang=js\"\n\nimport \"./product-list.vue?vue&type=style&index=0&id=b72c2e72&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\workspace\\\\github.com\\\\vue-typescript\\\\node_modules\\\\.pnpm\\\\vue-loader@16.8.3_@vue+compiler-sfc@3.2.41_vue@3.2.41_webpack@4.46.0\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b72c2e72\"]])\n\nexport default __exports__"],"sourceRoot":""}